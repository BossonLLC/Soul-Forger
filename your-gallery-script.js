// your-gallery-script.js

// Function to fetch the JSON data and initialize List.js
async function initCardGallery() {
    try {
        // 1. Fetch your JSON data from the repository
        // MAKE SURE THIS PATH IS CORRECT!
        const response = await fetch('path/to/your-card-data.json'); 
        const cardData = await response.json();

        // 2. Define the List.js options
        const options = {
            // These MUST match the keys in your JSON data exactly (case and spaces)
            valueNames: [
                "Card Name",
                "Ronum",
                "Cost",
                "Cost Location",
                "Type",
                "Action Type",
                "Equipment Type",
                "Sub Type",
                "Attack",
                "Off-guard Attack",
                "Damage Limit",
                "Hands",
                "Action Speed",
                "Fire",
                "Water",
                "Earth",
                "Air",
                "Light",
                "Dark",
                "Genaric",
                "Effect"
            ],
            
            // This template is how each card will be displayed.
            // Note the use of **data-card-name** and **data-card-id** which are vital for the deck builder.
            item: `
                <li class="card-item">
                    <h4 class="Card Name"></h4>
                    
                    <img class="card-image" 
                         src="path/to/card/images/<span class='Ronum'></span>.jpg" 
                         data-card-name="" 
                         data-card-id="" 
                         alt="">

                    <div class="card-details">
                        <p>Cost: <span class="Cost"></span> | Location: <span class="Cost Location"></span></p>
                        <p>Type: <span class="Type"></span></p>
                        <p>A/OG Attack: <span class="Attack"></span> / <span class="Off-guard Attack"></span></p>
                        <p>Effect: <span class="Effect"></span></p>
                    </div>
                    
                    <button class="add-to-deck-btn" data-card-name="">Add to Deck</button>
                </li>
            `
        };

        // 3. Initialize List.js
        const cardList = new List('cards-gallery', options, cardData);
        console.log('List.js initialized with', cardList.items.length, 'cards.');

        // 4. DECK BUILDER INTEGRATION (Next Step)
        // This is where you will move and adapt the click listener code you found
        // to work with the cards generated by List.js.

        // Example for how to set up filtering later:
        /*
        document.getElementById('filter-type-unit').addEventListener('click', function() {
            cardList.filter(function(item) {
                return item.values().Type === 'Unit';
            });
        });
        */

    } catch (error) {
        console.error('Error loading card data or List.js:', error);
    }
}

// Run the function when the page loads
window.onload = initCardGallery;
